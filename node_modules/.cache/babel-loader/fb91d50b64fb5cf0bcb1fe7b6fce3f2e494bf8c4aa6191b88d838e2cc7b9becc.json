{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vascu\\\\Downloads\\\\veno.ai final\\\\src\\\\pages\\\\MMIIVenoso.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { PDFDocument, rgb, StandardFonts } from \"pdf-lib\";\nimport { saveAs } from \"file-saver\";\nimport { FiArrowLeft } from \"react-icons/fi\";\n\n// Helpers para exames salvos (localStorage)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STORAGE_KEY = \"examesMMIIVenoso\";\nfunction getExamesSalvos() {\n  return JSON.parse(localStorage.getItem(STORAGE_KEY) || \"[]\");\n}\nfunction salvarExame(exame) {\n  const todos = getExamesSalvos();\n  todos.push(exame);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(todos));\n}\nfunction atualizarExames(novos) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(novos));\n}\nexport default function MMIIVenoso() {\n  _s();\n  const navigate = useNavigate();\n\n  // Campos do exame\n  const [nome, setNome] = useState(\"\");\n  const [data, setData] = useState(\"\");\n  const [lado, setLado] = useState(\"\");\n  const [dados, setDados] = useState({});\n  const [laudo, setLaudo] = useState(\"\");\n  const [mostrarExamesSalvos, setMostrarExamesSalvos] = useState(false);\n\n  // Campos das veias\n  const veiasProfundas = [\"Veia Femoral Comum\", \"Veia Femoral Superficial\", \"Veia Femoral Profunda\", \"Veia Poplítea\", \"Veias Tibiais posteriores\", \"Veias Tibiais anteriores\", \"Veias Gastrocnêmicas\", \"Veias Soleares\"];\n  const veiasSuperficiais = [\"JSF\", \"Safena Magna\", \"JSP\", \"Safena Parva\"];\n  const ladosPossiveis = [\"Direito\", \"Esquerdo\", \"Ambos\"];\n\n  // Estado dos campos das veias\n  function initCampos() {\n    return {\n      profundo: Object.fromEntries(veiasProfundas.map(v => [v, \"pérvia e competente\"])),\n      superficial: Object.fromEntries(veiasSuperficiais.map(v => [v, \"pérvia e competente\"])),\n      safena: {\n        \"Safena Magna\": {\n          coxa: \"\",\n          perna: \"\",\n          tornozelo: \"\",\n          inicio: \"\",\n          inicio_valor: \"\",\n          fim: \"\",\n          fim_valor: \"\"\n        },\n        \"Safena Parva\": {\n          proximal: \"\",\n          distal: \"\",\n          inicio: \"\",\n          inicio_valor: \"\",\n          fim: \"\",\n          fim_valor: \"\"\n        }\n      },\n      perfurante: \"competentes\",\n      local_perfurante_valor: \"\",\n      local_perfurante_tipo: \"\",\n      obs: \"\"\n    };\n  }\n  const [camposD, setCamposD] = useState(initCampos());\n  const [camposE, setCamposE] = useState(initCampos());\n  function handleLadoChange(val) {\n    setLado(val);\n    if (val === \"Direito\") setDados({\n      \"Direito\": {\n        ...camposD\n      }\n    });else if (val === \"Esquerdo\") setDados({\n      \"Esquerdo\": {\n        ...camposE\n      }\n    });else setDados({\n      \"Direito\": {\n        ...camposD\n      },\n      \"Esquerdo\": {\n        ...camposE\n      }\n    });\n  }\n  function atualizaCampos(side, novos) {\n    if (side === \"Direito\") {\n      setCamposD(novos);\n      setDados({\n        ...dados,\n        Direito: novos\n      });\n    } else {\n      setCamposE(novos);\n      setDados({\n        ...dados,\n        Esquerdo: novos\n      });\n    }\n  }\n\n  // Gerador de Laudo\n  function gerarLaudo() {\n    if (!nome || !data || !lado) {\n      alert(\"Preencha nome, data e lado!\");\n      return;\n    }\n    let laudos = {};\n    const sides = lado === \"Ambos\" ? [\"Direito\", \"Esquerdo\"] : [lado];\n    sides.forEach(side => {\n      const c = side === \"Direito\" ? camposD : camposE;\n      let txt = \"\";\n      txt += `PACIENTE: ${nome}\\n`;\n      txt += `DATA: ${data}\\n`;\n      txt += `DOPPLER VENOSO DE MEMBRO INFERIOR ${side.toUpperCase()}\\n\\n`;\n      txt += \"Sistema Venoso Profundo:\\n\";\n      veiasProfundas.forEach(v => txt += `- ${v}: ${c.profundo[v]}\\n`);\n      txt += \"\\nSistema Venoso Superficial:\\n\";\n      veiasSuperficiais.forEach(v => {\n        txt += `- ${v}: ${c.superficial[v]}\\n`;\n        if ([\"Safena Magna\", \"Safena Parva\"].includes(v) && c.superficial[v] === \"pérvia e insuficiente\") {\n          const s = c.safena[v];\n          if (v === \"Safena Magna\") {\n            txt += `  > Diâmetro - Coxa: ${s.coxa} mm\\n`;\n            txt += `  > Diâmetro - Perna: ${s.perna} mm\\n`;\n            txt += `  > Diâmetro - Tornozelo: ${s.tornozelo} mm\\n`;\n          } else {\n            txt += `  > Diâmetro Proximal: ${s.proximal} mm\\n`;\n            txt += `  > Diâmetro Distal: ${s.distal} mm\\n`;\n          }\n          txt += `  > Segmento insuficiente: de ${s.inicio_valor} ${s.inicio} até ${s.fim_valor} ${s.fim}\\n`;\n        }\n      });\n      txt += `\\nVeias Perfurantes: ${c.perfurante}\\n`;\n      if (c.perfurante === \"incompetentes\" && (c.local_perfurante_valor || c.local_perfurante_tipo)) {\n        txt += `  > Localização: ${c.local_perfurante_valor} ${c.local_perfurante_tipo}\\n`;\n      }\n      if (c.obs && c.obs.trim()) {\n        txt += `\\nObservações (${side}):\\n${c.obs}\\n`;\n      }\n      txt += `\\nCONCLUSÃO:\\n`;\n      txt += gerarConclusaoPorSide(c, side);\n      laudos[side] = txt;\n    });\n    setLaudo(Object.values(laudos).join(\"\\n\\n\"));\n    return laudos;\n  }\n  function gerarConclusaoPorSide(c, side) {\n    const profundos = c.profundo;\n    const superficiais = c.superficial;\n    const segmentos = c.safena;\n    const perfurante = c.perfurante;\n    const local_perf = `${c.local_perfurante_valor} ${c.local_perfurante_tipo}`;\n    let conclusoes = [];\n    if (Object.values(profundos).some(v => v.includes(\"não compressível\"))) {\n      conclusoes.push(\"Trombose venosa profunda\");\n    }\n    if (Object.values(profundos).some(v => v.includes(\"semi compressível\"))) {\n      conclusoes.push(\"Sinais de recanalização parcial do sistema venoso profundo\");\n    }\n    if (Object.values(profundos).some(v => v.includes(\"incompetente\"))) {\n      conclusoes.push(\"Insuficiência de sistema venoso profundo\");\n    }\n    [\"Safena Magna\", \"Safena Parva\"].forEach(veia => {\n      if (superficiais[veia] === \"pérvia e insuficiente\") {\n        const ini = segmentos[veia][\"inicio\"];\n        const fim = segmentos[veia][\"fim\"];\n        const ini_val = segmentos[veia][\"inicio_valor\"];\n        const fim_val = segmentos[veia][\"fim_valor\"];\n        const ini_fmt = ini && ini.includes(\"cm\") && ini_val ? `${ini_val} ${ini}` : ini;\n        const fim_fmt = fim && fim.includes(\"cm\") && fim_val ? `${fim_val} ${fim}` : fim;\n        if (ini_fmt && ini_fmt.includes(\"JSF\") && fim_fmt && fim_fmt.includes(\"tornozelo\") || ini_fmt && ini_fmt.includes(\"JSP\") && fim_fmt && fim_fmt.includes(\"tornozelo\")) {\n          conclusoes.push(`Insuficiência total da ${veia.toLowerCase()}`);\n        } else if (ini_fmt && ini_fmt.includes(\"joelho\") && fim_fmt && fim_fmt.includes(\"tornozelo\")) {\n          conclusoes.push(`Insuficiência parcial da ${veia.toLowerCase()}`);\n        } else if (ini_fmt && ini_fmt.includes(\"joelho\") && fim_fmt && fim_fmt.includes(\"joelho\")) {\n          conclusoes.push(`Insuficiência segmentar da ${veia.toLowerCase()}`);\n        }\n      }\n    });\n    if (superficiais[\"Safena Magna\"] === \"não compressível e sem fluxo (trombose)\") {\n      conclusoes.push(\"Tromboflebite da safena magna\");\n    }\n    if (superficiais[\"Safena Parva\"] === \"não compressível e sem fluxo (trombose)\") {\n      conclusoes.push(\"Tromboflebite da safena parva\");\n    }\n    if (superficiais[\"JSF\"] === \"pérvia e insuficiente\") {\n      conclusoes.push(\"Incompetência da junção safeno-femoral (JSF)\");\n    }\n    if (superficiais[\"JSP\"] === \"pérvia e insuficiente\") {\n      conclusoes.push(\"Incompetência da junção safeno-poplítea (JSP)\");\n    }\n    if (perfurante === \"incompetentes\") {\n      if (local_perf.trim()) conclusoes.push(`Insuficiência de veias perfurantes (${local_perf})`);else conclusoes.push(\"Insuficiência de veias perfurantes\");\n    }\n    if (!conclusoes.length) return \"- Ausência de refluxo venoso nos territórios estudados.\";\n    return \"- \" + conclusoes.join(\"\\n- \");\n  }\n\n  // PDF\n  async function gerarPDFExame({\n    nome,\n    data,\n    lados,\n    laudosPorLado\n  }) {\n    const doc = await PDFDocument.create();\n    const font = await doc.embedFont(StandardFonts.Helvetica);\n    const fontBold = await doc.embedFont(StandardFonts.HelveticaBold);\n    lados.forEach(ladoX => {\n      var _laudo$match, _laudo$match2, _laudo$match3, _laudo$match3$, _laudo$match4, _laudo$match5;\n      const laudo = laudosPorLado[ladoX];\n      const page = doc.addPage([595, 842]); // A4 Portrait\n      let y = 800;\n      const left = 50;\n      const lineHeight = 20;\n      // PACIENTE (negrito)\n      page.drawText(`PACIENTE: ${nome}`, {\n        x: left,\n        y,\n        font: fontBold,\n        size: 13,\n        color: rgb(0, 0, 0)\n      });\n      y -= lineHeight;\n      page.drawText(`DATA: ${data}`, {\n        x: left,\n        y,\n        font: font,\n        size: 12,\n        color: rgb(0, 0, 0)\n      });\n      y -= lineHeight;\n      page.drawText(`DOPPLER VENOSO DE MEMBRO INFERIOR ${ladoX.toUpperCase()}`, {\n        x: left,\n        y,\n        font: fontBold,\n        size: 13,\n        color: rgb(0, 0, 0)\n      });\n      y -= lineHeight * 1.2;\n      // Corpo\n      const drawSection = (titulo, texto) => {\n        page.drawText(titulo, {\n          x: left,\n          y,\n          font: fontBold,\n          size: 12,\n          color: rgb(0, 0, 0)\n        });\n        y -= lineHeight * 1.1;\n        texto.split(\"\\n\").forEach(line => {\n          page.drawText(line, {\n            x: left + 12,\n            y,\n            font: font,\n            size: 12,\n            color: rgb(0, 0, 0)\n          });\n          y -= lineHeight * 0.95;\n          if (y < 70) {\n            y = 800;\n            doc.addPage([595, 842]);\n          }\n        });\n        y -= 7;\n      };\n      const prof = ((_laudo$match = laudo.match(/Sistema Venoso Profundo:\\n([\\s\\S]+?)\\n\\n/)) === null || _laudo$match === void 0 ? void 0 : _laudo$match[1]) || \"\";\n      const superf = ((_laudo$match2 = laudo.match(/Sistema Venoso Superficial:\\n([\\s\\S]+?)\\n\\n/)) === null || _laudo$match2 === void 0 ? void 0 : _laudo$match2[1]) || \"\";\n      const perf = ((_laudo$match3 = laudo.match(/Veias Perfurantes:[\\s\\S]+?\\n\\n/)) === null || _laudo$match3 === void 0 ? void 0 : (_laudo$match3$ = _laudo$match3[0]) === null || _laudo$match3$ === void 0 ? void 0 : _laudo$match3$.replace(/^\\s+|\\s+$/g, \"\")) || \"\";\n      const obs = ((_laudo$match4 = laudo.match(/Observações.+?:\\n([\\s\\S]+?)\\n\\n/)) === null || _laudo$match4 === void 0 ? void 0 : _laudo$match4[1]) || \"\";\n      const conclusao = ((_laudo$match5 = laudo.match(/CONCLUSÃO:\\n([\\s\\S]+)/)) === null || _laudo$match5 === void 0 ? void 0 : _laudo$match5[1]) || \"\";\n      drawSection(\"Sistema Venoso Profundo\", prof);\n      drawSection(\"Sistema Venoso Superficial\", superf);\n      if (perf) drawSection(\"Veias Perfurantes\", perf);\n      if (obs) drawSection(\"Observações\", obs);\n      // Conclusão\n      if (conclusao) {\n        y -= 6;\n        page.drawText(\"CONCLUSÃO:\", {\n          x: left,\n          y,\n          font: fontBold,\n          size: 13,\n          color: rgb(0, 0, 0)\n        });\n        y -= lineHeight * 1.1;\n        conclusao.split(\"\\n\").forEach(line => {\n          page.drawText(line, {\n            x: left + 12,\n            y,\n            font: fontBold,\n            size: 12,\n            color: rgb(0, 0, 0)\n          });\n          y -= lineHeight * 0.95;\n          if (y < 70) {\n            y = 800;\n            doc.addPage([595, 842]);\n          }\n        });\n      }\n    });\n    const pdfBytes = await doc.save();\n    const nomeArquivo = `Laudo_${nome.replace(/\\s+/g, \"_\")}_${data}.pdf`;\n    saveAs(new Blob([pdfBytes], {\n      type: \"application/pdf\"\n    }), nomeArquivo);\n  }\n\n  // Salvar exame\n  function handleSalvarExame() {\n    const laudosPorLado = gerarLaudo();\n    if (!laudosPorLado) return;\n    const exameSalvo = {\n      id: Date.now() + \"_\" + Math.random().toString(36).slice(2, 7),\n      nome,\n      data,\n      lado,\n      laudo: Object.values(laudosPorLado).join(\"\\n\\n\"),\n      laudosPorLado,\n      dados: JSON.parse(JSON.stringify(dados)),\n      criadoEm: new Date().toISOString()\n    };\n    salvarExame(exameSalvo);\n    gerarPDFExame({\n      nome,\n      data,\n      lados: Object.keys(laudosPorLado),\n      laudosPorLado\n    });\n    alert(\"Exame salvo e PDF gerado com sucesso!\");\n  }\n\n  // Visualização HTML com negrito\n  function laudoHTMLView() {\n    if (!laudo) return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: \"#888\",\n        fontSize: 17\n      },\n      children: \"Preencha os campos e clique em \\\"Visualizar Laudo\\\"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 24\n    }, this);\n    return laudo.split(\"\\n\").map((l, i) => {\n      if (l.startsWith(\"PACIENTE:\") || l.startsWith(\"DOPPLER VENOSO\") || l.startsWith(\"Sistema Venoso Profundo\") || l.startsWith(\"Sistema Venoso Superficial\") || l.startsWith(\"CONCLUSÃO\")) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: \"bold\",\n            color: \"#0eb8d0\",\n            fontSize: 18\n          },\n          children: l\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 16\n        }, this);\n      }\n      if (l.startsWith(\"DATA:\")) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: \"600\",\n            color: \"#aaffee\"\n          },\n          children: l\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 16\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          whiteSpace: \"pre-wrap\"\n        },\n        children: l\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 14\n      }, this);\n    });\n  }\n\n  // Render\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: \"100vh\",\n      background: \"linear-gradient(120deg,#101824 0%,#1c2740 100%)\",\n      color: \"#fff\",\n      fontFamily: \"Segoe UI, Inter, Arial, sans-serif\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      padding: 0,\n      paddingTop: 28\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"absolute\",\n        left: 22,\n        top: 22\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(-1),\n        style: {\n          background: \"#232f4e\",\n          color: \"#0eb8d0\",\n          border: \"2px solid #0eb8d0\",\n          borderRadius: 8,\n          fontSize: 18,\n          padding: \"7px 16px\",\n          fontWeight: 700,\n          cursor: \"pointer\",\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 7\n        },\n        children: [/*#__PURE__*/_jsxDEV(FiArrowLeft, {\n          size: 22\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), \" Voltar\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        fontSize: 26,\n        fontWeight: 800,\n        letterSpacing: 1,\n        marginTop: 10,\n        color: \"#0eb8d0\"\n      },\n      children: \"Gerador de Laudo Doppler MMII Venoso\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: \"#242d43\",\n        borderRadius: 14,\n        padding: \"24px 28px\",\n        minWidth: 320,\n        marginTop: 26,\n        boxShadow: \"0 2px 16px #0eb8d055\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: 18,\n          marginBottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 600\n            },\n            children: \"Nome do Paciente:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: nome,\n            onChange: e => setNome(e.target.value),\n            style: {\n              padding: 7,\n              borderRadius: 6,\n              border: \"none\",\n              width: 210,\n              fontSize: 16,\n              marginTop: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 600\n            },\n            children: \"Data (dd/mm/aaaa):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: data,\n            onChange: e => setData(e.target.value),\n            style: {\n              padding: 7,\n              borderRadius: 6,\n              border: \"none\",\n              width: 150,\n              fontSize: 16,\n              marginTop: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 600\n            },\n            children: \"Lado:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: lado,\n            onChange: e => handleLadoChange(e.target.value),\n            style: {\n              padding: 7,\n              borderRadius: 6,\n              border: \"none\",\n              width: 120,\n              fontSize: 16,\n              marginTop: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Selecione\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this), ladosPossiveis.map(l => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: l,\n              children: l\n            }, l, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 40\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 261,\n    columnNumber: 5\n  }, this);\n}\n_s(MMIIVenoso, \"5VFTCQK3ojIfhEwMyen9V9xOspw=\", false, function () {\n  return [useNavigate];\n});\n_c = MMIIVenoso;\nvar _c;\n$RefreshReg$(_c, \"MMIIVenoso\");","map":{"version":3,"names":["React","useState","useNavigate","PDFDocument","rgb","StandardFonts","saveAs","FiArrowLeft","jsxDEV","_jsxDEV","STORAGE_KEY","getExamesSalvos","JSON","parse","localStorage","getItem","salvarExame","exame","todos","push","setItem","stringify","atualizarExames","novos","MMIIVenoso","_s","navigate","nome","setNome","data","setData","lado","setLado","dados","setDados","laudo","setLaudo","mostrarExamesSalvos","setMostrarExamesSalvos","veiasProfundas","veiasSuperficiais","ladosPossiveis","initCampos","profundo","Object","fromEntries","map","v","superficial","safena","coxa","perna","tornozelo","inicio","inicio_valor","fim","fim_valor","proximal","distal","perfurante","local_perfurante_valor","local_perfurante_tipo","obs","camposD","setCamposD","camposE","setCamposE","handleLadoChange","val","atualizaCampos","side","Direito","Esquerdo","gerarLaudo","alert","laudos","sides","forEach","c","txt","toUpperCase","includes","s","trim","gerarConclusaoPorSide","values","join","profundos","superficiais","segmentos","local_perf","conclusoes","some","veia","ini","ini_val","fim_val","ini_fmt","fim_fmt","toLowerCase","length","gerarPDFExame","lados","laudosPorLado","doc","create","font","embedFont","Helvetica","fontBold","HelveticaBold","ladoX","_laudo$match","_laudo$match2","_laudo$match3","_laudo$match3$","_laudo$match4","_laudo$match5","page","addPage","y","left","lineHeight","drawText","x","size","color","drawSection","titulo","texto","split","line","prof","match","superf","perf","replace","conclusao","pdfBytes","save","nomeArquivo","Blob","type","handleSalvarExame","exameSalvo","id","Date","now","Math","random","toString","slice","criadoEm","toISOString","keys","laudoHTMLView","style","fontSize","children","fileName","_jsxFileName","lineNumber","columnNumber","l","i","startsWith","fontWeight","whiteSpace","minHeight","background","fontFamily","display","flexDirection","alignItems","padding","paddingTop","position","top","onClick","border","borderRadius","cursor","gap","letterSpacing","marginTop","minWidth","boxShadow","marginBottom","value","onChange","e","target","width","_c","$RefreshReg$"],"sources":["C:/Users/vascu/Downloads/veno.ai final/src/pages/MMIIVenoso.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { PDFDocument, rgb, StandardFonts } from \"pdf-lib\";\r\nimport { saveAs } from \"file-saver\";\r\nimport { FiArrowLeft } from \"react-icons/fi\";\r\n\r\n// Helpers para exames salvos (localStorage)\r\nconst STORAGE_KEY = \"examesMMIIVenoso\";\r\nfunction getExamesSalvos() {\r\n  return JSON.parse(localStorage.getItem(STORAGE_KEY) || \"[]\");\r\n}\r\nfunction salvarExame(exame) {\r\n  const todos = getExamesSalvos();\r\n  todos.push(exame);\r\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(todos));\r\n}\r\nfunction atualizarExames(novos) {\r\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(novos));\r\n}\r\n\r\nexport default function MMIIVenoso() {\r\n  const navigate = useNavigate();\r\n\r\n  // Campos do exame\r\n  const [nome, setNome] = useState(\"\");\r\n  const [data, setData] = useState(\"\");\r\n  const [lado, setLado] = useState(\"\");\r\n  const [dados, setDados] = useState({});\r\n  const [laudo, setLaudo] = useState(\"\");\r\n  const [mostrarExamesSalvos, setMostrarExamesSalvos] = useState(false);\r\n\r\n  // Campos das veias\r\n  const veiasProfundas = [\r\n    \"Veia Femoral Comum\", \"Veia Femoral Superficial\", \"Veia Femoral Profunda\",\r\n    \"Veia Poplítea\", \"Veias Tibiais posteriores\", \"Veias Tibiais anteriores\",\r\n    \"Veias Gastrocnêmicas\", \"Veias Soleares\"\r\n  ];\r\n  const veiasSuperficiais = [\"JSF\", \"Safena Magna\", \"JSP\", \"Safena Parva\"];\r\n  const ladosPossiveis = [\"Direito\", \"Esquerdo\", \"Ambos\"];\r\n\r\n  // Estado dos campos das veias\r\n  function initCampos() {\r\n    return {\r\n      profundo: Object.fromEntries(veiasProfundas.map(v => [v, \"pérvia e competente\"])),\r\n      superficial: Object.fromEntries(veiasSuperficiais.map(v => [v, \"pérvia e competente\"])),\r\n      safena: {\r\n        \"Safena Magna\": {\r\n          coxa: \"\", perna: \"\", tornozelo: \"\",\r\n          inicio: \"\", inicio_valor: \"\", fim: \"\", fim_valor: \"\"\r\n        },\r\n        \"Safena Parva\": {\r\n          proximal: \"\", distal: \"\",\r\n          inicio: \"\", inicio_valor: \"\", fim: \"\", fim_valor: \"\"\r\n        }\r\n      },\r\n      perfurante: \"competentes\",\r\n      local_perfurante_valor: \"\",\r\n      local_perfurante_tipo: \"\",\r\n      obs: \"\",\r\n    };\r\n  }\r\n  const [camposD, setCamposD] = useState(initCampos());\r\n  const [camposE, setCamposE] = useState(initCampos());\r\n\r\n  function handleLadoChange(val) {\r\n    setLado(val);\r\n    if (val === \"Direito\") setDados({ \"Direito\": { ...camposD } });\r\n    else if (val === \"Esquerdo\") setDados({ \"Esquerdo\": { ...camposE } });\r\n    else setDados({ \"Direito\": { ...camposD }, \"Esquerdo\": { ...camposE } });\r\n  }\r\n  function atualizaCampos(side, novos) {\r\n    if (side === \"Direito\") { setCamposD(novos); setDados({ ...dados, Direito: novos }); }\r\n    else { setCamposE(novos); setDados({ ...dados, Esquerdo: novos }); }\r\n  }\r\n\r\n  // Gerador de Laudo\r\n  function gerarLaudo() {\r\n    if (!nome || !data || !lado) {\r\n      alert(\"Preencha nome, data e lado!\");\r\n      return;\r\n    }\r\n    let laudos = {};\r\n    const sides = (lado === \"Ambos\") ? [\"Direito\", \"Esquerdo\"] : [lado];\r\n    sides.forEach(side => {\r\n      const c = side === \"Direito\" ? camposD : camposE;\r\n      let txt = \"\";\r\n      txt += `PACIENTE: ${nome}\\n`;\r\n      txt += `DATA: ${data}\\n`;\r\n      txt += `DOPPLER VENOSO DE MEMBRO INFERIOR ${side.toUpperCase()}\\n\\n`;\r\n      txt += \"Sistema Venoso Profundo:\\n\";\r\n      veiasProfundas.forEach(v =>\r\n        txt += `- ${v}: ${c.profundo[v]}\\n`\r\n      );\r\n      txt += \"\\nSistema Venoso Superficial:\\n\";\r\n      veiasSuperficiais.forEach(v => {\r\n        txt += `- ${v}: ${c.superficial[v]}\\n`;\r\n        if ([\"Safena Magna\", \"Safena Parva\"].includes(v) && c.superficial[v] === \"pérvia e insuficiente\") {\r\n          const s = c.safena[v];\r\n          if (v === \"Safena Magna\") {\r\n            txt += `  > Diâmetro - Coxa: ${s.coxa} mm\\n`;\r\n            txt += `  > Diâmetro - Perna: ${s.perna} mm\\n`;\r\n            txt += `  > Diâmetro - Tornozelo: ${s.tornozelo} mm\\n`;\r\n          } else {\r\n            txt += `  > Diâmetro Proximal: ${s.proximal} mm\\n`;\r\n            txt += `  > Diâmetro Distal: ${s.distal} mm\\n`;\r\n          }\r\n          txt += `  > Segmento insuficiente: de ${s.inicio_valor} ${s.inicio} até ${s.fim_valor} ${s.fim}\\n`;\r\n        }\r\n      });\r\n      txt += `\\nVeias Perfurantes: ${c.perfurante}\\n`;\r\n      if (c.perfurante === \"incompetentes\" && (c.local_perfurante_valor || c.local_perfurante_tipo)) {\r\n        txt += `  > Localização: ${c.local_perfurante_valor} ${c.local_perfurante_tipo}\\n`;\r\n      }\r\n      if (c.obs && c.obs.trim()) {\r\n        txt += `\\nObservações (${side}):\\n${c.obs}\\n`;\r\n      }\r\n      txt += `\\nCONCLUSÃO:\\n`;\r\n      txt += gerarConclusaoPorSide(c, side);\r\n      laudos[side] = txt;\r\n    });\r\n    setLaudo(Object.values(laudos).join(\"\\n\\n\"));\r\n    return laudos;\r\n  }\r\n\r\n  function gerarConclusaoPorSide(c, side) {\r\n    const profundos = c.profundo;\r\n    const superficiais = c.superficial;\r\n    const segmentos = c.safena;\r\n    const perfurante = c.perfurante;\r\n    const local_perf = `${c.local_perfurante_valor} ${c.local_perfurante_tipo}`;\r\n    let conclusoes = [];\r\n    if (Object.values(profundos).some(v => v.includes(\"não compressível\"))) {\r\n      conclusoes.push(\"Trombose venosa profunda\");\r\n    }\r\n    if (Object.values(profundos).some(v => v.includes(\"semi compressível\"))) {\r\n      conclusoes.push(\"Sinais de recanalização parcial do sistema venoso profundo\");\r\n    }\r\n    if (Object.values(profundos).some(v => v.includes(\"incompetente\"))) {\r\n      conclusoes.push(\"Insuficiência de sistema venoso profundo\");\r\n    }\r\n    [\"Safena Magna\", \"Safena Parva\"].forEach(veia => {\r\n      if (superficiais[veia] === \"pérvia e insuficiente\") {\r\n        const ini = segmentos[veia][\"inicio\"];\r\n        const fim = segmentos[veia][\"fim\"];\r\n        const ini_val = segmentos[veia][\"inicio_valor\"];\r\n        const fim_val = segmentos[veia][\"fim_valor\"];\r\n        const ini_fmt = (ini && ini.includes(\"cm\") && ini_val) ? `${ini_val} ${ini}` : ini;\r\n        const fim_fmt = (fim && fim.includes(\"cm\") && fim_val) ? `${fim_val} ${fim}` : fim;\r\n        if ((ini_fmt && ini_fmt.includes(\"JSF\") && fim_fmt && fim_fmt.includes(\"tornozelo\")) ||\r\n            (ini_fmt && ini_fmt.includes(\"JSP\") && fim_fmt && fim_fmt.includes(\"tornozelo\"))) {\r\n          conclusoes.push(`Insuficiência total da ${veia.toLowerCase()}`);\r\n        } else if (ini_fmt && ini_fmt.includes(\"joelho\") && fim_fmt && fim_fmt.includes(\"tornozelo\")) {\r\n          conclusoes.push(`Insuficiência parcial da ${veia.toLowerCase()}`);\r\n        } else if (ini_fmt && ini_fmt.includes(\"joelho\") && fim_fmt && fim_fmt.includes(\"joelho\")) {\r\n          conclusoes.push(`Insuficiência segmentar da ${veia.toLowerCase()}`);\r\n        }\r\n      }\r\n    });\r\n    if (superficiais[\"Safena Magna\"] === \"não compressível e sem fluxo (trombose)\") {\r\n      conclusoes.push(\"Tromboflebite da safena magna\");\r\n    }\r\n    if (superficiais[\"Safena Parva\"] === \"não compressível e sem fluxo (trombose)\") {\r\n      conclusoes.push(\"Tromboflebite da safena parva\");\r\n    }\r\n    if (superficiais[\"JSF\"] === \"pérvia e insuficiente\") {\r\n      conclusoes.push(\"Incompetência da junção safeno-femoral (JSF)\");\r\n    }\r\n    if (superficiais[\"JSP\"] === \"pérvia e insuficiente\") {\r\n      conclusoes.push(\"Incompetência da junção safeno-poplítea (JSP)\");\r\n    }\r\n    if (perfurante === \"incompetentes\") {\r\n      if (local_perf.trim()) conclusoes.push(`Insuficiência de veias perfurantes (${local_perf})`);\r\n      else conclusoes.push(\"Insuficiência de veias perfurantes\");\r\n    }\r\n    if (!conclusoes.length) return \"- Ausência de refluxo venoso nos territórios estudados.\";\r\n    return \"- \" + conclusoes.join(\"\\n- \");\r\n  }\r\n\r\n  // PDF\r\n  async function gerarPDFExame({ nome, data, lados, laudosPorLado }) {\r\n    const doc = await PDFDocument.create();\r\n    const font = await doc.embedFont(StandardFonts.Helvetica);\r\n    const fontBold = await doc.embedFont(StandardFonts.HelveticaBold);\r\n    lados.forEach(ladoX => {\r\n      const laudo = laudosPorLado[ladoX];\r\n      const page = doc.addPage([595, 842]); // A4 Portrait\r\n      let y = 800;\r\n      const left = 50;\r\n      const lineHeight = 20;\r\n      // PACIENTE (negrito)\r\n      page.drawText(`PACIENTE: ${nome}`, { x: left, y, font: fontBold, size: 13, color: rgb(0,0,0) }); y -= lineHeight;\r\n      page.drawText(`DATA: ${data}`, { x: left, y, font: font, size: 12, color: rgb(0,0,0) }); y -= lineHeight;\r\n      page.drawText(`DOPPLER VENOSO DE MEMBRO INFERIOR ${ladoX.toUpperCase()}`, { x: left, y, font: fontBold, size: 13, color: rgb(0,0,0) }); y -= lineHeight*1.2;\r\n      // Corpo\r\n      const drawSection = (titulo, texto) => {\r\n        page.drawText(titulo, { x: left, y, font: fontBold, size: 12, color: rgb(0,0,0) }); y -= lineHeight*1.1;\r\n        texto.split(\"\\n\").forEach(line => {\r\n          page.drawText(line, { x: left+12, y, font: font, size: 12, color: rgb(0,0,0) }); y -= lineHeight*0.95;\r\n          if (y < 70) { y = 800; doc.addPage([595, 842]); }\r\n        }); y -= 7;\r\n      };\r\n      const prof = laudo.match(/Sistema Venoso Profundo:\\n([\\s\\S]+?)\\n\\n/)?.[1] || \"\";\r\n      const superf = laudo.match(/Sistema Venoso Superficial:\\n([\\s\\S]+?)\\n\\n/)?.[1] || \"\";\r\n      const perf = laudo.match(/Veias Perfurantes:[\\s\\S]+?\\n\\n/)?.[0]?.replace(/^\\s+|\\s+$/g,\"\") || \"\";\r\n      const obs = laudo.match(/Observações.+?:\\n([\\s\\S]+?)\\n\\n/)?.[1] || \"\";\r\n      const conclusao = laudo.match(/CONCLUSÃO:\\n([\\s\\S]+)/)?.[1] || \"\";\r\n      drawSection(\"Sistema Venoso Profundo\", prof);\r\n      drawSection(\"Sistema Venoso Superficial\", superf);\r\n      if (perf) drawSection(\"Veias Perfurantes\", perf);\r\n      if (obs) drawSection(\"Observações\", obs);\r\n      // Conclusão\r\n      if (conclusao) {\r\n        y -= 6;\r\n        page.drawText(\"CONCLUSÃO:\", { x: left, y, font: fontBold, size: 13, color: rgb(0,0,0) }); y -= lineHeight*1.1;\r\n        conclusao.split(\"\\n\").forEach(line => {\r\n          page.drawText(line, { x: left+12, y, font: fontBold, size: 12, color: rgb(0,0,0) }); y -= lineHeight*0.95;\r\n          if (y < 70) { y = 800; doc.addPage([595,842]); }\r\n        });\r\n      }\r\n    });\r\n    const pdfBytes = await doc.save();\r\n    const nomeArquivo = `Laudo_${nome.replace(/\\s+/g,\"_\")}_${data}.pdf`;\r\n    saveAs(new Blob([pdfBytes], { type: \"application/pdf\" }), nomeArquivo);\r\n  }\r\n\r\n  // Salvar exame\r\n  function handleSalvarExame() {\r\n    const laudosPorLado = gerarLaudo();\r\n    if (!laudosPorLado) return;\r\n    const exameSalvo = {\r\n      id: Date.now() + \"_\" + Math.random().toString(36).slice(2,7),\r\n      nome,\r\n      data,\r\n      lado,\r\n      laudo: Object.values(laudosPorLado).join(\"\\n\\n\"),\r\n      laudosPorLado,\r\n      dados: JSON.parse(JSON.stringify(dados)),\r\n      criadoEm: new Date().toISOString(),\r\n    };\r\n    salvarExame(exameSalvo);\r\n    gerarPDFExame({ nome, data, lados: Object.keys(laudosPorLado), laudosPorLado });\r\n    alert(\"Exame salvo e PDF gerado com sucesso!\");\r\n  }\r\n\r\n  // Visualização HTML com negrito\r\n  function laudoHTMLView() {\r\n    if (!laudo) return <div style={{ color: \"#888\", fontSize: 17 }}>Preencha os campos e clique em \"Visualizar Laudo\"</div>;\r\n    return laudo.split(\"\\n\").map((l,i) => {\r\n      if (l.startsWith(\"PACIENTE:\") || l.startsWith(\"DOPPLER VENOSO\") || l.startsWith(\"Sistema Venoso Profundo\") || l.startsWith(\"Sistema Venoso Superficial\") || l.startsWith(\"CONCLUSÃO\")) {\r\n        return <div key={i} style={{ fontWeight: \"bold\", color: \"#0eb8d0\", fontSize: 18 }}>{l}</div>;\r\n      }\r\n      if (l.startsWith(\"DATA:\")) {\r\n        return <div key={i} style={{ fontWeight: \"600\", color: \"#aaffee\" }}>{l}</div>;\r\n      }\r\n      return <div key={i} style={{ whiteSpace: \"pre-wrap\" }}>{l}</div>;\r\n    });\r\n  }\r\n\r\n  // Render\r\n  return (\r\n    <div style={{\r\n      minHeight: \"100vh\",\r\n      background: \"linear-gradient(120deg,#101824 0%,#1c2740 100%)\",\r\n      color: \"#fff\",\r\n      fontFamily: \"Segoe UI, Inter, Arial, sans-serif\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      padding: 0,\r\n      paddingTop: 28,\r\n    }}>\r\n      <div style={{ position: \"absolute\", left: 22, top: 22 }}>\r\n        <button onClick={() => navigate(-1)}\r\n          style={{\r\n            background: \"#232f4e\", color: \"#0eb8d0\", border: \"2px solid #0eb8d0\",\r\n            borderRadius: 8, fontSize: 18, padding: \"7px 16px\", fontWeight: 700, cursor: \"pointer\",\r\n            display: \"flex\", alignItems: \"center\", gap: 7\r\n          }}\r\n        >\r\n          <FiArrowLeft size={22}/> Voltar\r\n        </button>\r\n      </div>\r\n      <h2 style={{ fontSize: 26, fontWeight: 800, letterSpacing: 1, marginTop: 10, color: \"#0eb8d0\" }}>\r\n        Gerador de Laudo Doppler MMII Venoso\r\n      </h2>\r\n      <div style={{\r\n        background: \"#242d43\",\r\n        borderRadius: 14,\r\n        padding: \"24px 28px\",\r\n        minWidth: 320,\r\n        marginTop: 26,\r\n        boxShadow: \"0 2px 16px #0eb8d055\"\r\n      }}>\r\n        {/* Nome, Data, Lado */}\r\n        <div style={{ display: \"flex\", gap: 18, marginBottom: 16 }}>\r\n          <div>\r\n            <div style={{ fontWeight: 600 }}>Nome do Paciente:</div>\r\n            <input type=\"text\" value={nome} onChange={e => setNome(e.target.value)}\r\n              style={{ padding: 7, borderRadius: 6, border: \"none\", width: 210, fontSize: 16, marginTop: 2 }} />\r\n          </div>\r\n          <div>\r\n            <div style={{ fontWeight: 600 }}>Data (dd/mm/aaaa):</div>\r\n            <input type=\"date\" value={data} onChange={e => setData(e.target.value)}\r\n              style={{ padding: 7, borderRadius: 6, border: \"none\", width: 150, fontSize: 16, marginTop: 2 }} />\r\n          </div>\r\n          <div>\r\n            <div style={{ fontWeight: 600 }}>Lado:</div>\r\n            <select value={lado} onChange={e => handleLadoChange(e.target.value)}\r\n              style={{ padding: 7, borderRadius: 6, border: \"none\", width: 120, fontSize: 16, marginTop: 2 }}>\r\n              <option value=\"\">Selecione</option>\r\n              {ladosPossiveis.map(l => <option key={l} value={l}>{l}</option>)}\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}